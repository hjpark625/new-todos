"use strict";(self.webpackChunknew_todos=self.webpackChunknew_todos||[]).push([[746],{2758:function(n,e,t){t.d(e,{db:function(){return d},kS:function(){return p},x4:function(){return l},z2:function(){return u}});var r=t(2426),o=t(2148),a=t(9062),i=(t(4453),{apiKey:"".concat("AIzaSyAl8cTDFzXN6zkRMqObHvwaacaXDyPq9Os"),authDomain:"".concat({NODE_ENV:"production",PUBLIC_URL:"/new-todos",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_STORAGE_BUCKET:"simple-todos-48e55.appspot.com",REACT_APP_PROJECT_ID:"simple-todos-48e55",REACT_APP_APP_ID:"1:509351722928:web:64d001362f18c2d25aa075",REACT_APP_API_KEY:"AIzaSyAl8cTDFzXN6zkRMqObHvwaacaXDyPq9Os",REACT_APP_DATABASE_URL:"https://simple-todos-48e55-default-rtdb.asia-southeast1.firebasedatabase.app",REACT_APP_MESSAGING_SENDER_ID:"509351722928"}.REACT_APP_AUTH_DOMAIN),databaseURL:"".concat("https://simple-todos-48e55-default-rtdb.asia-southeast1.firebasedatabase.app"),projectId:"".concat("simple-todos-48e55"),storageBucket:"".concat("simple-todos-48e55.appspot.com"),messagingSenderId:"".concat("509351722928"),appId:"".concat("1:509351722928:web:64d001362f18c2d25aa075")}),s=(0,r.ZF)(i),c=(0,o.v0)(s),d=(0,a.ad)(s),u=function(n,e){return(0,o.Xb)(c,n,e)},l=function(n,e){return(0,o.e5)(c,n,e)},p=function(n){return(0,o.w7)(n)}},8746:function(n,e,t){t.r(e),t.d(e,{default:function(){return W}});var r,o,a,i=t(2791),s=t(6871),c=t(9434),d=t(168),u=t(6444),l=u.ZP.div(r||(r=(0,d.Z)(["\n  position: absolute;\n  left: 0;\n  top: 0;\n  bottom: 0;\n  right: 0;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n"]))),p=u.ZP.div(o||(o=(0,d.Z)(["\n  display: block;\n  padding-bottom: 2rem;\n  text-align: center;\n  font-weight: bold;\n  letter-spacing: 2px;\n"]))),f=u.ZP.div(a||(a=(0,d.Z)(["\n  box-shadow: 0 0 8px rgba(0, 0, 0, 0.025);\n  padding: 2rem;\n  width: 360px;\n  background: white;\n  border-radius: 2px;\n"]))),m=t(184);var g,h,b,x,v,Z,w,P,_,A=function(n){var e=n.children;return(0,m.jsx)(l,{children:(0,m.jsxs)(f,{children:[(0,m.jsx)(p,{children:(0,m.jsx)("span",{children:"WELCOME to Todo APP"})}),e]})})},y=t(4165),E=t(5861),j=t(885),k=t(2731),C=t(2758),T=t(9062),S=t(3319),R=u.ZP.div(g||(g=(0,d.Z)(["\n  h3 {\n    margin: 0;\n    color: ",";\n    margin-bottom: 1rem;\n    font-size: 1.2rem;\n    font-weight: bolder;\n  }\n"])),S.Z.gray[8]),D=u.ZP.input(h||(h=(0,d.Z)(["\n  font-size: 1rem;\n  border: none;\n  border-bottom: 1px solid ",";\n  padding-bottom: 0.5rem;\n  outline: none;\n  width: 100%;\n  &:focus {\n    color: $oc-teal-7;\n    border-bottom: 1px solid ",";\n  }\n  & + & {\n    margin-top: 1rem;\n  }\n"])),S.Z.gray[5],S.Z.gray[7]),I=u.ZP.div(b||(b=(0,d.Z)(["\n  margin-top: 2rem;\n  text-align: right;\n  a {\n    color: ",";\n    text-decoration: underline;\n    &:hover {\n      color: ",";\n    }\n  }\n"])),S.Z.gray[6],S.Z.gray[9]),O=u.ZP.span(x||(x=(0,d.Z)(["\n  text-decoration: underline;\n  cursor: pointer;\n"]))),z=u.ZP.div(v||(v=(0,d.Z)(["\n  color: red;\n  text-align: center;\n  font-size: 0.875rem;\n  margin-top: 1rem;\n"]))),N=u.ZP.button(Z||(Z=(0,d.Z)(["\n  border: none;\n  border-radius: 4px;\n  font-size: 1rem;\n  font-weight: bold;\n  padding: 0.25rem 1rem;\n  margin-top: 1rem;\n  color: white;\n  outline: none;\n  cursor: pointer;\n\n  background: ",";\n  &:hover {\n    background: ",";\n  }\n\n  ","\n\n  ","\n\n    ","\n"])),S.Z.gray[8],S.Z.gray[6],(function(n){return n.fullWidth&&(0,u.iv)(w||(w=(0,d.Z)(["\n      padding-top: 0.75rem;\n      padding-bottom: 0.75rem;\n      width: 100%;\n      font-size: 1.125rem;\n    "])))}),(function(n){return n.cyan&&(0,u.iv)(P||(P=(0,d.Z)(["\n      background: ",";\n      &:hover {\n        background: ",";\n      }\n    "])),S.Z.cyan[5],S.Z.cyan[4])}),(function(n){return n.disabled&&(0,u.iv)(_||(_=(0,d.Z)(["\n      background: ",";\n      cursor: not-allowed;\n      &:hover {\n        background: ",";\n      }\n    "])),S.Z.gray[4],S.Z.gray[4])})),U={login:"\ub85c\uadf8\uc778",register:"\ud68c\uc6d0\uac00\uc785"},X=function(n){var e=n.type,t=(0,c.I0)(),r=(0,s.s0)(),o=(0,i.useState)(null),a=(0,j.Z)(o,2),d=a[0],u=a[1],l=(0,c.v9)((function(n){return n.auth})),p=U[e],f=function(n){var r=n.target,o=r.name,a=r.value;t((0,k.uC)({form:e,key:o,value:a}))},g=function(){var n=(0,E.Z)((0,y.Z)().mark((function n(t){return(0,y.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t.preventDefault(),"register"!==e){n.next=6;break}return n.next=4,(0,C.z2)(l.register.email,l.register.password).then((function(n){(0,T.pl)((0,T.JU)(C.db,"users","".concat(n.user.uid)),{id:n.user.uid,email:n.user.email}),alert("\ud68c\uc6d0\uac00\uc785 \uc131\uacf5!"),r("/todo")})).catch((function(n){return"auth/email-already-in-use"===n.code?alert("\uc774\ubbf8 \uc0ac\uc6a9\uc911\uc778 \uc774\uba54\uc77c\uc785\ub2c8\ub2e4."):alert("\ud68c\uc6d0\uac00\uc785 \uc2e4\ud328")}));case 4:n.next=9;break;case 6:if("login"!==e){n.next=9;break}return n.next=9,(0,C.x4)(l.login.email,l.login.password).then((function(n){localStorage.setItem("uid",n.user.uid),alert("\uc5b4\uc11c\uc624\uc138\uc694 ".concat(n.user.email,"\ub2d8")),r("/todo")})).catch((function(n){switch(n.code){case"auth/user-not-found":return alert("\ud68c\uc6d0 \uc815\ubcf4\uac00 \uc874\uc7ac\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4.");case"auth/wrong-password":return alert("\ube44\ubc00\ubc88\ud638\uac00 \ud2c0\ub838\uc2b5\ub2c8\ub2e4.");case"auth/invalid-email":return alert("\uc720\ud6a8\ud558\uc9c0 \uc54a\uc740 \uc774\uba54\uc77c\uc785\ub2c8\ub2e4.");default:return alert("\ub85c\uadf8\uc778 \uc2e4\ud328")}}));case 9:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return(0,i.useEffect)((function(){l[e].email||l[e].password?l[e].email.includes(".com")?l[e].password.length<8?u("\ube44\ubc00\ubc88\ud638\ub294 8\uc790 \uc774\uc0c1\uc785\ub825\ud574\uc8fc\uc138\uc694"):u(null):u("\uc774\uba54\uc77c \ud615\uc2dd\uc774 \uc544\ub2d9\ub2c8\ub2e4."):u("\uc815\ubcf4\ub97c \uc785\ub825\ud574\uc8fc\uc138\uc694")}),[d,e,l]),(0,m.jsxs)(R,{children:[(0,m.jsx)("h3",{children:p}),(0,m.jsxs)("form",{onSubmit:function(n){g(n)},children:[(0,m.jsx)(D,{autoComplete:"email",name:"email",placeholder:"\uc774\uba54\uc77c\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694",value:l[e].email,onChange:f}),(0,m.jsx)(D,{autoComplete:"new-password",name:"password",placeholder:"\ube44\ubc00\ubc88\ud638\ub97c \uc785\ub825\ud574\uc8fc\uc138\uc694",type:"password",value:l[e].password,onChange:f}),d&&(0,m.jsx)(z,{children:d}),(0,m.jsx)(N,{cyan:!0,fullWidth:!0,disabled:!(l[e].email.includes(".com")&&l[e].password.length>7),children:p})]}),(0,m.jsx)(I,{children:"login"===e?(0,m.jsx)(O,{onClick:function(){t((0,k.$X)("register"))},children:"\ud68c\uc6d0\uac00\uc785"}):(0,m.jsx)(O,{onClick:function(){t((0,k.$X)("login"))},children:"\ub85c\uadf8\uc778"})})]})};var H=function(){return(0,m.jsx)(A,{children:(0,m.jsx)(X,{type:"login"})})};var K=function(){return(0,m.jsx)(A,{children:(0,m.jsx)(X,{type:"register"})})};var W=function(){var n=(0,s.s0)(),e=localStorage.getItem("uid"),t=(0,c.v9)((function(n){return n.auth.authType}));return(0,i.useEffect)((function(){e&&n("/todo")}),[]),(0,m.jsx)("div",{children:"login"===t?(0,m.jsx)(H,{}):"register"===t&&(0,m.jsx)(K,{})})}}}]);
//# sourceMappingURL=746.f1f557ac.chunk.js.map