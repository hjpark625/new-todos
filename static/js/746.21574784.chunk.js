"use strict";(self.webpackChunknew_todos=self.webpackChunknew_todos||[]).push([[746],{2758:function(n,e,o){o.d(e,{db:function(){return u},kS:function(){return _},x4:function(){return l},z2:function(){return s}});var r=o(2426),t=o(2148),i=o(9062),a=(o(4453),{apiKey:"".concat({NODE_ENV:"production",PUBLIC_URL:"/new-todos",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_KEY),authDomain:"".concat({NODE_ENV:"production",PUBLIC_URL:"/new-todos",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_AUTH_DOMAIN),databaseURL:"".concat({NODE_ENV:"production",PUBLIC_URL:"/new-todos",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_DATABASE_URL),projectId:"".concat({NODE_ENV:"production",PUBLIC_URL:"/new-todos",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_PROJECT_ID),storageBucket:"".concat({NODE_ENV:"production",PUBLIC_URL:"/new-todos",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_STORAGE_BUCKET),messagingSenderId:"".concat({NODE_ENV:"production",PUBLIC_URL:"/new-todos",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_MESSAGING_SENDER_ID),appId:"".concat({NODE_ENV:"production",PUBLIC_URL:"/new-todos",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_APP_ID)}),d=(0,r.ZF)(a),c=(0,t.v0)(d),u=(0,i.ad)(d),s=function(n,e){return(0,t.Xb)(c,n,e)},l=function(n,e){return(0,t.e5)(c,n,e)},_=function(n){return(0,t.w7)(n)}},8746:function(n,e,o){o.r(e),o.d(e,{default:function(){return F}});var r,t,i,a=o(2791),d=o(6871),c=o(9434),u=o(168),s=o(6444),l=s.ZP.div(r||(r=(0,u.Z)(["\n  position: absolute;\n  left: 0;\n  top: 0;\n  bottom: 0;\n  right: 0;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n"]))),_=s.ZP.div(t||(t=(0,u.Z)(["\n  display: block;\n  padding-bottom: 2rem;\n  text-align: center;\n  font-weight: bold;\n  letter-spacing: 2px;\n"]))),S=s.ZP.div(i||(i=(0,u.Z)(["\n  box-shadow: 0 0 8px rgba(0, 0, 0, 0.025);\n  padding: 2rem;\n  width: 360px;\n  background: white;\n  border-radius: 2px;\n"]))),p=o(184);var E,g,f,T,m,h,v,P,C,O=function(n){var e=n.children;return(0,p.jsx)(l,{children:(0,p.jsxs)(S,{children:[(0,p.jsx)(_,{children:(0,p.jsx)("span",{children:"WELCOME to Todo APP"})}),e]})})},x=o(4165),b=o(5861),R=o(885),A=o(2731),w=o(2758),Z=o(9062),D=o(3319),y=s.ZP.div(E||(E=(0,u.Z)(["\n  h3 {\n    margin: 0;\n    color: ",";\n    margin-bottom: 1rem;\n    font-size: 1.2rem;\n    font-weight: bolder;\n  }\n"])),D.Z.gray[8]),K=s.ZP.input(g||(g=(0,u.Z)(["\n  font-size: 1rem;\n  border: none;\n  border-bottom: 1px solid ",";\n  padding-bottom: 0.5rem;\n  outline: none;\n  width: 100%;\n  &:focus {\n    color: $oc-teal-7;\n    border-bottom: 1px solid ",";\n  }\n  & + & {\n    margin-top: 1rem;\n  }\n"])),D.Z.gray[5],D.Z.gray[7]),W=s.ZP.div(f||(f=(0,u.Z)(["\n  margin-top: 2rem;\n  text-align: right;\n  a {\n    color: ",";\n    text-decoration: underline;\n    &:hover {\n      color: ",";\n    }\n  }\n"])),D.Z.gray[6],D.Z.gray[9]),j=s.ZP.span(T||(T=(0,u.Z)(["\n  text-decoration: underline;\n  cursor: pointer;\n"]))),H=s.ZP.div(m||(m=(0,u.Z)(["\n  color: red;\n  text-align: center;\n  font-size: 0.875rem;\n  margin-top: 1rem;\n"]))),k=s.ZP.button(h||(h=(0,u.Z)(["\n  border: none;\n  border-radius: 4px;\n  font-size: 1rem;\n  font-weight: bold;\n  padding: 0.25rem 1rem;\n  margin-top: 1rem;\n  color: white;\n  outline: none;\n  cursor: pointer;\n\n  background: ",";\n  &:hover {\n    background: ",";\n  }\n\n  ","\n\n  ","\n\n    ","\n"])),D.Z.gray[8],D.Z.gray[6],(function(n){return n.fullWidth&&(0,s.iv)(v||(v=(0,u.Z)(["\n      padding-top: 0.75rem;\n      padding-bottom: 0.75rem;\n      width: 100%;\n      font-size: 1.125rem;\n    "])))}),(function(n){return n.cyan&&(0,s.iv)(P||(P=(0,u.Z)(["\n      background: ",";\n      &:hover {\n        background: ",";\n      }\n    "])),D.Z.cyan[5],D.Z.cyan[4])}),(function(n){return n.disabled&&(0,s.iv)(C||(C=(0,u.Z)(["\n      background: ",";\n      cursor: not-allowed;\n      &:hover {\n        background: ",";\n      }\n    "])),D.Z.gray[4],D.Z.gray[4])})),I={login:"\ub85c\uadf8\uc778",register:"\ud68c\uc6d0\uac00\uc785"},U=function(n){var e=n.type,o=(0,c.I0)(),r=(0,d.s0)(),t=(0,a.useState)(null),i=(0,R.Z)(t,2),u=i[0],s=i[1],l=(0,c.v9)((function(n){return n.auth})),_=I[e],S=function(n){var r=n.target,t=r.name,i=r.value;o((0,A.uC)({form:e,key:t,value:i}))},E=function(){var n=(0,b.Z)((0,x.Z)().mark((function n(o){return(0,x.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(o.preventDefault(),"register"!==e){n.next=6;break}return n.next=4,(0,w.z2)(l.register.email,l.register.password).then((function(n){(0,Z.pl)((0,Z.JU)(w.db,"users","".concat(n.user.uid)),{id:n.user.uid,email:n.user.email}),alert("\ud68c\uc6d0\uac00\uc785 \uc131\uacf5!"),r("/todo")})).catch((function(n){return"auth/email-already-in-use"===n.code?alert("\uc774\ubbf8 \uc0ac\uc6a9\uc911\uc778 \uc774\uba54\uc77c\uc785\ub2c8\ub2e4."):alert("\ud68c\uc6d0\uac00\uc785 \uc2e4\ud328")}));case 4:n.next=9;break;case 6:if("login"!==e){n.next=9;break}return n.next=9,(0,w.x4)(l.login.email,l.login.password).then((function(n){localStorage.setItem("uid",n.user.uid),alert("\uc5b4\uc11c\uc624\uc138\uc694 ".concat(n.user.email,"\ub2d8")),r("/todo")})).catch((function(n){switch(n.code){case"auth/user-not-found":return alert("\ud68c\uc6d0 \uc815\ubcf4\uac00 \uc874\uc7ac\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4.");case"auth/wrong-password":return alert("\ube44\ubc00\ubc88\ud638\uac00 \ud2c0\ub838\uc2b5\ub2c8\ub2e4.");case"auth/invalid-email":return alert("\uc720\ud6a8\ud558\uc9c0 \uc54a\uc740 \uc774\uba54\uc77c\uc785\ub2c8\ub2e4.");default:return alert("\ub85c\uadf8\uc778 \uc2e4\ud328")}}));case 9:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return(0,a.useEffect)((function(){l[e].email||l[e].password?l[e].email.includes(".com")?l[e].password.length<8?s("\ube44\ubc00\ubc88\ud638\ub294 8\uc790 \uc774\uc0c1\uc785\ub825\ud574\uc8fc\uc138\uc694"):s(null):s("\uc774\uba54\uc77c \ud615\uc2dd\uc774 \uc544\ub2d9\ub2c8\ub2e4."):s("\uc815\ubcf4\ub97c \uc785\ub825\ud574\uc8fc\uc138\uc694")}),[u,e,l]),(0,p.jsxs)(y,{children:[(0,p.jsx)("h3",{children:_}),(0,p.jsxs)("form",{onSubmit:function(n){E(n)},children:[(0,p.jsx)(K,{autoComplete:"email",name:"email",placeholder:"\uc774\uba54\uc77c\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694",value:l[e].email,onChange:S}),(0,p.jsx)(K,{autoComplete:"new-password",name:"password",placeholder:"\ube44\ubc00\ubc88\ud638\ub97c \uc785\ub825\ud574\uc8fc\uc138\uc694",type:"password",value:l[e].password,onChange:S}),u&&(0,p.jsx)(H,{children:u}),(0,p.jsx)(k,{cyan:!0,fullWidth:!0,disabled:!(l[e].email.includes(".com")&&l[e].password.length>7),children:_})]}),(0,p.jsx)(W,{children:"login"===e?(0,p.jsx)(j,{onClick:function(){o((0,A.$X)("register"))},children:"\ud68c\uc6d0\uac00\uc785"}):(0,p.jsx)(j,{onClick:function(){o((0,A.$X)("login"))},children:"\ub85c\uadf8\uc778"})})]})};var L=function(){return(0,p.jsx)(O,{children:(0,p.jsx)(U,{type:"login"})})};var N=function(){return(0,p.jsx)(O,{children:(0,p.jsx)(U,{type:"register"})})};var F=function(){var n=(0,d.s0)(),e=localStorage.getItem("uid"),o=(0,c.v9)((function(n){return n.auth.authType}));return(0,a.useEffect)((function(){e&&n("/todo")}),[]),(0,p.jsx)("div",{children:"login"===o?(0,p.jsx)(L,{}):"register"===o&&(0,p.jsx)(N,{})})}}}]);
//# sourceMappingURL=746.21574784.chunk.js.map