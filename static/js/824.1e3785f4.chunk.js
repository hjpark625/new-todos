"use strict";(self.webpackChunknew_todos=self.webpackChunknew_todos||[]).push([[824],{2758:function(n,e,t){t.d(e,{db:function(){return d},kS:function(){return f},x4:function(){return l},z2:function(){return s}});var r=t(2426),o=t(2148),i=t(9062),c=(t(4453),{apiKey:"".concat({NODE_ENV:"production",PUBLIC_URL:"/new-todos",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_KEY),authDomain:"".concat({NODE_ENV:"production",PUBLIC_URL:"/new-todos",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_AUTH_DOMAIN),databaseURL:"".concat({NODE_ENV:"production",PUBLIC_URL:"/new-todos",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_DATABASE_URL),projectId:"".concat({NODE_ENV:"production",PUBLIC_URL:"/new-todos",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_PROJECT_ID),storageBucket:"".concat({NODE_ENV:"production",PUBLIC_URL:"/new-todos",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_STORAGE_BUCKET),messagingSenderId:"".concat({NODE_ENV:"production",PUBLIC_URL:"/new-todos",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_MESSAGING_SENDER_ID),appId:"".concat({NODE_ENV:"production",PUBLIC_URL:"/new-todos",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_APP_ID)}),a=(0,r.ZF)(c),u=(0,o.v0)(a),d=(0,i.ad)(a),s=function(n,e){return(0,o.Xb)(u,n,e)},l=function(n,e){return(0,o.e5)(u,n,e)},f=function(n){return(0,o.w7)(n)}},1824:function(n,e,t){t.r(e),t.d(e,{default:function(){return rn}});var r,o,i,c,a=t(4165),u=t(1413),d=t(5861),s=t(885),l=t(2791),f=t(6871),p=t(2148),v=t(2758),_=t(168),h=t(6444),S=t(3319),g=h.ZP.div(r||(r=(0,_.Z)(["\n  width: 512px;\n  margin-left: auto;\n  margin-right: auto;\n  margin-top: 6rem;\n  border-radius: 4px;\n  overflow: hidden;\n"]))),E=h.ZP.div(o||(o=(0,_.Z)(["\n  position: relative;\n  background: #22b8cf;\n  color: white;\n  height: 4rem;\n  font-size: 1.5rem;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]))),x=h.ZP.button(i||(i=(0,_.Z)(["\n  position: absolute;\n  right: 5%;\n  width: 70px;\n  height: 30px;\n  border: 1px solid ",";\n  border-radius: 8px;\n  background: ",";\n  cursor: pointer;\n  transition: background 0.2s ease;\n  &:hover {\n    border: 1px solid ",";\n    background: ",";\n    color: white;\n  }\n"])),S.Z.gray[4],S.Z.gray[4],S.Z.gray[6],S.Z.gray[6]),m=h.ZP.div(c||(c=(0,_.Z)(["\n  background: white;\n  height: 22rem;\n  overflow-y: scroll;\n  &::-webkit-scrollbar {\n    display: none;\n  }\n"]))),Z=t(184);var T,P,C,b=function(n){var e=n.children,t=(0,f.s0)(),r=function(){var n=(0,d.Z)((0,a.Z)().mark((function n(){var e;return(0,a.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=(0,p.v0)(),n.next=3,(0,v.kS)(e).then((function(){localStorage.removeItem("uid"),alert("\ub85c\uadf8\uc544\uc6c3 \uc644\ub8cc\ub418\uc5c8\uc2b5\ub2c8\ub2e4."),t("/")})).catch((function(){alert("\ub2e4\uc2dc \uc2dc\ub3c4\ud574 \uc8fc\uc2ed\uc2dc\uc624")}));case 3:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return(0,Z.jsxs)(g,{children:[(0,Z.jsxs)(E,{children:["Todo APP"," ",(0,Z.jsx)(x,{type:"button",onClick:function(){r()},children:"\ub85c\uadf8\uc544\uc6c3"})]}),(0,Z.jsx)(m,{children:e})]})},O=t(9434),R=t(9806),A=t(1632),w=t(9062),D=t(6736),k=h.ZP.form(T||(T=(0,_.Z)(["\n  display: flex;\n  background: #495057;\n  position: sticky;\n  top: 0;\n  z-index: 2;\n"]))),y=h.ZP.input(P||(P=(0,_.Z)(["\n  background: none;\n  outline: none;\n  border: none;\n  padding: 0.5rem;\n  font-size: 1.125rem;\n  line-height: 1.5;\n  color: white;\n  &::placeholder {\n    color: #dee2e6;\n  }\n  flex: 1;\n"]))),j=h.ZP.button(C||(C=(0,_.Z)(["\n  background: none;\n  outline: none;\n  border: none;\n  background: #868e96;\n  color: white;\n  padding-left: 1rem;\n  padding-right: 1rem;\n  font-size: 1.5rem;\n  display: flex;\n  align-items: center;\n  cursor: pointer;\n  transition: background 0.1s ease-in;\n  &:hover {\n    background: #adb5bd;\n  }\n"])));var K,H,I,U,W,L,N,F=function(){var n=(0,O.I0)(),e=(0,O.v9)((function(n){return n.todos.input})),t=localStorage.getItem("uid"),r=function(){var r=(0,d.Z)((0,a.Z)().mark((function r(o){return(0,a.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(r.prev=0,o.preventDefault(),0!==e.length){r.next=4;break}return r.abrupt("return",alert("\ub0b4\uc6a9\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694"));case 4:return r.next=6,(0,w.ET)((0,w.hJ)(v.db,"todos"),{uid:t,text:e,createdAt:w.EK.now(),isCompleted:!1});case 6:r.next=11;break;case 8:r.prev=8,r.t0=r.catch(0),alert("\uc791\uc131\uc5d0 \uc2e4\ud328\ud558\uc600\uc2b5\ub2c8\ub2e4.. ".concat(r.t0));case 11:return r.prev=11,n((0,D.O)("")),r.finish(11);case 14:case"end":return r.stop()}}),r,null,[[0,8,11,14]])})));return function(n){return r.apply(this,arguments)}}();return(0,Z.jsxs)(k,{onSubmit:function(n){r(n)},children:[(0,Z.jsx)(y,{placeholder:"\ud560 \uc77c\uc744 \uc785\ub825\ud558\uc138\uc694",value:e,onChange:function(e){!function(e){var t=e.target.value;n((0,D.O)(t))}(e)}}),(0,Z.jsx)(j,{type:"submit",children:(0,Z.jsx)(R.G,{icon:A.r8p})})]})},z=t(6850),B=h.ZP.div(K||(K=(0,_.Z)(["\n  padding: 1rem;\n  display: flex;\n  align-items: center;\n  position: relative;\n  &:nth-child(even) {\n    background: #f8f9fa;\n  }\n\n  & + & {\n    border-top: 1px solid ",";\n  }\n"])),S.Z.gray[3]),G=h.ZP.div(H||(H=(0,_.Z)(["\n  cursor: pointer;\n  flex: 1;\n  display: flex;\n  align-items: center;\n  svg {\n    font-size: 1.5rem;\n    color: ",";\n  }\n"])),(function(n){return n.isCompleted?"#22b8cf":"inherit"})),V=h.ZP.div(I||(I=(0,_.Z)(["\n  margin-left: 0.5rem;\n  flex: 1;\n\n  color: ",";\n  text-decoration: ",";\n"])),(function(n){return n.isCompleted?"#adb5bd":"inherit"}),(function(n){return n.isCompleted?"line-through":"none"})),J=h.ZP.div(U||(U=(0,_.Z)(["\n  display: flex;\n  align-items: center;\n  font-size: 1.5rem;\n  color: #ff6b6b;\n  cursor: pointer;\n  &:hover {\n    color: #ff8787;\n  }\n"]))),M=h.ZP.div(W||(W=(0,_.Z)(["\n  display: ",";\n  margin-right: 1.5rem;\n  align-items: center;\n  font-size: 1.2rem;\n  color: ",";\n  cursor: pointer;\n  &:hover {\n    color: ",";\n  }\n"])),(function(n){return n.isCompleted?"none":"flex"}),S.Z.gray[6],S.Z.gray[4]),X=h.ZP.form(L||(L=(0,_.Z)(["\n  position: absolute;\n  left: 9%;\n"]))),Y=h.ZP.input(N||(N=(0,_.Z)(["\n  width: 24rem;\n  height: 2rem;\n  background-color: transparent;\n  border: none;\n  border-bottom: 2px solid ",";\n  padding: 0.5rem;\n  padding-left: 0;\n  font-size: 1rem;\n  color: ",";\n  &:focus {\n    outline: none;\n  }\n"])),S.Z.gray[5],S.Z.gray[6]);var q,Q,$=function(n){var e=n.items,t=e.text,r=e.isCompleted,o=e.id,i=(0,l.useState)(!1),c=(0,s.Z)(i,2),u=c[0],f=c[1],p=(0,l.useState)(t),_=(0,s.Z)(p,2),h=_[0],S=_[1],g=(0,l.useRef)(null);(0,l.useLayoutEffect)((function(){null!==g.current&&g.current.focus()}));var E=function(){var n=(0,d.Z)((0,a.Z)().mark((function n(){var e;return(0,a.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=(0,w.JU)(v.db,"todos","".concat(o)),n.next=3,(0,w.r7)(e,{isCompleted:!r}).catch((function(n){alert("\uc624\ub958\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4."),console.error(n)}));case 3:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),x=function(){var n=(0,d.Z)((0,a.Z)().mark((function n(){var e;return(0,a.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=(0,w.JU)(v.db,"todos","".concat(o)),n.next=3,(0,w.oe)(e);case 3:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),m=function(){var n=(0,d.Z)((0,a.Z)().mark((function n(e){var t;return(0,a.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e.preventDefault(),t=(0,w.JU)(v.db,"todos","".concat(o)),n.next=4,(0,w.r7)(t,{text:h}).catch((function(n){alert("\uc218\uc815\uc5d0 \uc2e4\ud328\ud558\uc600\uc2b5\ub2c8\ub2e4. ".concat(n))}));case 4:f(!1);case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return(0,Z.jsxs)(B,{children:[(0,Z.jsxs)(G,{isCompleted:r,onClick:function(){E()},children:[r?(0,Z.jsx)(R.G,{icon:A.chG}):(0,Z.jsx)(R.G,{icon:z.pL1}),u||(0,Z.jsx)(V,{isCompleted:r,children:t})]}),u&&(0,Z.jsx)(X,{onSubmit:function(n){m(n)},children:(0,Z.jsx)(Y,{type:"text",value:h,ref:g,onChange:function(n){!function(n){S(n.target.value)}(n)}})}),(0,Z.jsx)(M,{isCompleted:r,onClick:function(){f((function(n){return!n}))},children:(0,Z.jsx)(R.G,{icon:A.IwR})}),(0,Z.jsx)(J,{onClick:function(){x()},children:(0,Z.jsx)(R.G,{icon:z.Vui})})]})},nn=h.ZP.div(q||(q=(0,_.Z)(["\n  min-height: 320px;\n  max-height: 513px;\n  overflow-y: auto;\n"]))),en=h.ZP.div(Q||(Q=(0,_.Z)(["\n  text-align: center;\n  margin-top: 8rem;\n  color: ",";\n  font-size: 2rem;\n"])),S.Z.gray[5]);var tn=function(n){var e=n.todos;return(0,Z.jsx)(nn,{children:null===e||0===e.length?(0,Z.jsx)(en,{children:"\ud574\uc57c \ud560 \uc77c \ub4e4\uc744 \ucc44\uc6cc\uc8fc\uc138\uc694!"}):e.map((function(n){return(0,Z.jsx)($,{items:n},n.id)}))})};var rn=function(){var n=(0,l.useState)(null),e=(0,s.Z)(n,2),t=e[0],r=e[1],o=(0,f.s0)(),i=localStorage.getItem("uid"),c=function(){var n=(0,d.Z)((0,a.Z)().mark((function n(){var e;return(0,a.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:e=(0,w.IO)((0,w.hJ)(v.db,"todos"),(0,w.ar)("uid","==","".concat(i))),(0,w.cf)(e,(function(n){var e=[];n.forEach((function(n){var t=n.data();e.push((0,u.Z)((0,u.Z)({},t),{},{id:n.id})),e.sort((function(n,e){return n.createdAt.seconds-e.createdAt.seconds}))})),e.every((function(n){return n.uid==="".concat(i)}))?r(e):r(null)}));case 2:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return(0,l.useEffect)((function(){!i&&o("/"),c()}),[i]),(0,Z.jsxs)(b,{children:[(0,Z.jsx)(F,{}),(0,Z.jsx)(tn,{todos:t})]})}}}]);
//# sourceMappingURL=824.1e3785f4.chunk.js.map